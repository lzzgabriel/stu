CREATE DEFINER=`root`@`localhost` TRIGGER `check_mensalidade_status` before UPDATE ON `mensalidade_aberta` FOR EACH ROW
  SET new.status = case when new.proximo_vencimento < current_date() then 'atrasada' else 'em aberto' end;